<html>
	<head>
		<meta charset="utf-8"/>
		<script src="/assets/wasm_exec.js"></script>
		<script>
			const go = new Go();
			WebAssembly.instantiateStreaming(fetch("/assets/minesweeper.wasm"), go.importObject).then((result) => {
				go.run(result.instance);
			});
		</script>
	</head>
	<body>
		Echo page!
		<button type='button' name="Make websocket connection" onclick="makeConnection()">Make websocket connection</button>

		<textarea id="msg_input" name="Message Input" rows="5" cols="50"></textarea>
		<input id="button" type="submit" name="write_button" value="Send Message" onclick="sendMsg(msg_input.value)"/>

		<textarea id="msg_output" name="Message Output" rows="5" cols="50"></textarea>
		<input id="button" type="submit" name="read_button" value="Read Message" onclick="msg_output.value=JSON.stringify(readMsg())"/>
    </body>
</html>